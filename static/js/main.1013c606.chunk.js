(this.webpackJsonpreact_sum=this.webpackJsonpreact_sum||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/heart.0865c832.svg"},18:function(e,t,a){e.exports=a(31)},29:function(e,t,a){},3:function(e,t,a){e.exports=a.p+"static/media/message.ee31211c.svg"},30:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),i=a(1),s=(a(6),a(17)),l=a(2),m="https://api.chucknorris.io/jokes/",u={randomJoke:null,favoriteJokes:[],categories:[],searchJokes:[]},d=function(e){return{type:"SET_RANDOM_JOKE",payload:e}},_=function(){return function(e){fetch("".concat(m,"random")).then((function(e){return e.json()})).then((function(t){e(d(t))}))}},E=function(){return function(e){fetch("".concat(m,"categories")).then((function(e){return e.json()})).then((function(t){e({type:"SET_CATEGORIES",payload:t})}))}},f=function(e){return function(t){(function(e){return fetch("".concat(m,"random?category=").concat(e)).then((function(e){return e.json()}))})(e).then((function(e){t(d(e))}))}},v=function(e){return function(t){(function(e){return fetch("".concat(m,"search?query=").concat(e)).then((function(e){return e.json()}))})(e).then((function(e){400!==e.status&&t({type:"SET_SEARCH_JOKES",payload:e.result})}))}},p=(a(9),a(8)),k=a.n(p),h=a(3),N=a.n(h),g=function(e,t){return(t-e)/1e3/60/60},j=Object(i.b)()((function(e){var t=e.randomJoke,a=e.setFavorite,n=new Date(t.updated_at),c=new Date,o=g(n,c);return r.a.createElement("div",{className:"randomizer__content content"},r.a.createElement("div",{className:"content__addToFavorite-wrapper"},r.a.createElement("button",{type:"button",className:"content__addToFavorite",onClick:function(){a(t)}},r.a.createElement("img",{src:k.a,alt:"add to favorite"}))),r.a.createElement("div",{className:"content__item-container"},r.a.createElement("div",{className:"content__textIcon-wrapper"},r.a.createElement("img",{src:N.a,alt:"joke item icon",className:"content__textIcon"})),r.a.createElement("div",{className:"content__joke joke"},r.a.createElement("div",{className:"joke__id-wrapper"},r.a.createElement("span",{className:"joke__id-title"},"ID: "),r.a.createElement("a",{href:t.url,className:"joke__id-link",target:"_blank",rel:"noopener noreferrer"},t.id)),r.a.createElement("div",{className:"joke__value"},t.value),r.a.createElement("div",{className:"joke__footer"},r.a.createElement("div",{className:"joke__date"},"Last update: ".concat(o.toFixed()," hours ago")),r.a.createElement("div",{className:"joke__categories"},t.categories.length?t.categories:null)))))})),b=a(5),J=(a(29),Object(i.b)((function(e){return{categories:e.categories,searchJokes:e.searchJokes}}),(function(e){return{setCategories:function(){return e(E())},setSearchJoke:function(t){return e(v(t))},clearSearch:function(){return e({type:"CLEAR_SEARCH"})}}}))((function(e){var t=e.categories,a=e.setCategories,c=e.getRandomJoke,o=e.setJokeFromCategories,i=e.setSearchJoke,s=e.clearSearch,l=Object(n.useState)("random"),m=Object(b.a)(l,2),u=m[0],d=m[1],_=Object(n.useState)(""),E=Object(b.a)(_,2),f=E[0],v=E[1],p=Object(n.useState)(""),k=Object(b.a)(p,2),h=k[0],N=k[1],g=Object(n.useState)(!1),j=Object(b.a)(g,2),J=j[0],O=j[1];Object(n.useEffect)((function(){a()}));var y=function(e){var t=e.target.value;d(t),v("")},F=function(e){var t=e.target.innerHTML;v(t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"radio__list"},r.a.createElement("div",{className:"radio__item"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"random",checked:"random"===u,onChange:y}),r.a.createElement("span",{className:"radio__text"},"Random"))),r.a.createElement("div",{className:"radio__item"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"categories",checked:"categories"===u,onChange:y}),r.a.createElement("span",{className:"radio__text"},"From categories")),"categories"===u?r.a.createElement("div",{className:"categories__list"},t.map((function(e){return r.a.createElement("button",{type:"button",className:"categories__item",onClick:F,key:e},e)}))):null),r.a.createElement("div",{className:"radio__item"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"search",checked:"search"===u,onChange:y}),r.a.createElement("span",{className:"radio__text"},"Search")),"search"===u?r.a.createElement("div",{className:"radio__form"},r.a.createElement("input",{className:"radio__input",placeholder:"Free text search...",value:h,onChange:function(e){var t=e.target.value;O(!0),N(t),i(h),h.length<=3&&s(),h.length>=3&&O(!1)}}),J?r.a.createElement("span",{className:"radio__input-error"},"input must be more than 3 characters"):null):null)),r.a.createElement("button",{type:"button",className:"radio__button",onClick:function(){return""===f?c():o(f)}},"Get a joke"))}))),O=function(e){var t=e.searchJokes,a=e.setFavorite;return r.a.createElement("div",null,t.map((function(e){var n=new Date(e.updated_at),c=new Date,o=g(n,c),i=e.id;return r.a.createElement("div",{className:"randomizer__content content",key:e.id},r.a.createElement("div",{className:"content__addToFavorite-wrapper"},r.a.createElement("button",{type:"button",className:"content__addToFavorite",onClick:function(){return function(e){var n=t.find((function(t){return t.id===e}));a(n)}(i)}},r.a.createElement("img",{src:k.a,alt:"add to favorites"}))),r.a.createElement("div",{className:"content__item-container"},r.a.createElement("div",{className:"content__textIcon-container"},r.a.createElement("img",{src:N.a,alt:"joke item icon",className:"content__textIcon"})),r.a.createElement("div",{className:"content__joke joke"},r.a.createElement("div",{className:"joke__id-wrapper"},r.a.createElement("span",{className:"joke__id-title"},"ID:"),r.a.createElement("a",{href:e.url,className:"joke__id-link",target:"_blank",rel:"noopener noreferrer"},e.id)),r.a.createElement("div",{className:"joke__value"},e.value),r.a.createElement("div",{className:"joke__footer"},r.a.createElement("div",{className:"joke__date"},"Last update: ".concat(o.toFixed()," hours ago")),r.a.createElement("div",{className:"joke__categories"},e.categories.length?e.categories:null)))))})))},y=Object(i.b)((function(e){return{randomJoke:e.randomJoke,searchJokes:e.searchJokes}}),(function(e){return{getRandomJoke:function(){return e(_())},setFavorite:function(t){return e(function(e){return{type:"SET_FAVORITE_JOKE",payload:e}}(t))},setJokeFromCategories:function(t){return e(f(t))}}}))((function(e){var t=e.getRandomJoke,a=e.randomJoke,n=e.setFavorite,c=e.setJokeFromCategories,o=e.searchJokes;return r.a.createElement("div",{className:"randomizer"},r.a.createElement("h1",{className:"randomizer__heading"},"Chuck Norris facts"),r.a.createElement("p",{className:"randomizer__title"},"Hey!"),r.a.createElement("p",{className:"randomizer__underTitle"},"Let\u2019s try to find a joke for you:"),r.a.createElement(J,{getRandomJoke:t,setJokeFromCategories:c}),null===a?null:r.a.createElement(j,{randomJoke:a,setFavorite:n}),o.length?r.a.createElement(O,{searchJokes:o,setFavorite:n}):null)})),F=(a(30),a(15)),S=a.n(F),C=Object(i.b)((function(e){return{favoriteJokes:e.favoriteJokes}}),(function(e){return{deleteFavorite:function(t){return e({type:"DELETE_FROM_FAVORITE",payload:t})}}}))((function(e){var t=e.favoriteJokes,a=e.deleteFavorite;return r.a.createElement("div",{className:"favorite"},r.a.createElement("h2",{className:"favorite__title"},"Favourite"),t.map((function(e){var t=new Date(e.updated_at),n=new Date,c=g(t,n);return r.a.createElement("div",{className:"favorite__content content-favourite",key:e.id},r.a.createElement("div",{className:"content-favourite__addToFavorite-wrapper"},r.a.createElement("button",{type:"button",className:"content-favourite__addToFavorite",onClick:function(){a(e.id)}},r.a.createElement("img",{src:S.a,alt:"remove from favorites"}))),r.a.createElement("div",{className:"content-favourite__item-container"},r.a.createElement("div",{className:"content-favourite__textIcon-container"},r.a.createElement("img",{src:N.a,alt:"joke item icon",className:"content-favourite__textIcon"})),r.a.createElement("div",{className:"content-favourite__joke joke"},r.a.createElement("div",{className:"joke__id-wrapper"},r.a.createElement("span",{className:"joke__id-title"},"ID:"),r.a.createElement("a",{href:e.url,className:"joke__id-link",target:"_blank",rel:"noopener noreferrer"},e.id)),r.a.createElement("div",{className:"joke__value"},e.value),r.a.createElement("div",{className:"joke__footer"},r.a.createElement("div",{className:"joke__date"},"Last update: ".concat(c.toFixed()," hours ago"))))))})))})),T=function(){return r.a.createElement("div",{className:"app-wrapper"},r.a.createElement("div",{className:"app-wrapper__content"},r.a.createElement(y,null)),r.a.createElement("div",{className:"app-wrapper__favorite"},r.a.createElement(C,null)))},w=a(4),R=a(16),x=Object(w.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RANDOM_JOKE":return Object(l.a)({},e,{randomJoke:t.payload});case"SET_SEARCH_JOKES":return Object(l.a)({},e,{searchJokes:t.payload});case"CLEAR_SEARCH":return Object(l.a)({},e,{searchJokes:[]});case"SET_FAVORITE_JOKE":return Object(l.a)({},e,{favoriteJokes:[].concat(Object(s.a)(e.favoriteJokes),[t.payload])});case"DELETE_FROM_FAVORITE":return Object(l.a)({},e,{favoriteJokes:e.favoriteJokes.filter((function(e){return e.id!==t.payload}))});case"SET_CATEGORIES":return Object(l.a)({},e,{categories:t.payload});default:return e}}),Object(w.a)(R.a));window.store=x,o.a.render(r.a.createElement(i.a,{store:x},r.a.createElement(T,null)),document.getElementById("root"))},6:function(e,t,a){},8:function(e,t,a){e.exports=a.p+"static/media/favorite.e977fb9e.svg"},9:function(e,t,a){}},[[18,1,2]]]);
//# sourceMappingURL=main.1013c606.chunk.js.map